## Sobreescribir la página signin

Para sobreescribir la página signin, ya sea para meterla dentro de un layout, o para cambiar su apariencia predeterminada, agregamos el atributo pages en [...nextauth].ts

``` javascript
    pages: {
        signIn: "/auth/signin",
    }
```


Y creamos un archivo en */auth/signin/<provider>.ts*, con el formulario como lo querramos, este archivo puede obtener los providers por medio del método getProviders para mostrarlo en pantalla, también es importante agregar un campo para el token de protección contra CSRF


``` javascript
import { signIn, getCsrfToken, getProviders } from 'next-auth/react'
import type { GetServerSidePropsContext, InferGetServerSidePropsType } from "next";
import styles from '@styles/forms.module.css'
import { getSession } from 'next-auth/react'
import Link from 'next/link'
import { useRouter } from 'next/router'

const Signin = ({ csrfToken, providers }: InferGetServerSidePropsType<typeof getServerSideProps>) => {
    const router = useRouter()
    const { error } = router.query

    return (
        <div className={styles.formContainer}>
            <form className={styles.form} method="post" action="/api/auth/callback/credentials">
                <input name='csrfToken' type='hidden' defaultValue={csrfToken} />
                <button type="submit" className={styles.submit}>Login</button>
                {
                    providers &&
                    Object.values(providers).map(provider => {
                        if (provider.name === 'credentials') {
                            return
                        }
                        return (
                            <div key={provider.name} style={{ marginBottom: 0 }}>
                                <button className={styles.submit} onClick={() => signIn(provider.id)} >
                                    Sign in with{' '} {provider.name}
                                </button>
                            </div>
                        )
                    })
                }
            </form>
        </div>
    )
}

export default Signin

export async function getServerSideProps(context: GetServerSidePropsContext) {
    const { req } = context
    const session = await getSession({ req })
    if (session) {
        return { redirect: { destination: '/' } }
    }
    const providers = await getProviders()
    const csrfToken = await getCsrfToken(context)
    return {
        props: {
            providers,
            csrfToken
        },
    }
}
```
