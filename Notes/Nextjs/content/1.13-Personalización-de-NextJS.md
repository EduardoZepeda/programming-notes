## 1.13 Personalización de NextJS

Document es el documento principal, dentro de esta se encuentra App y
dentro de esta se encuentra la aplicación.

### 1.13.1 Extendiendo document

Para modificar el document creamos un archivo, dentro de la carpeta
pages/, llamado \_document.tsx o \_document.js , ya sea que estemos
trabajando con typescript o javascript, respectivamente. Cualquier
cambio que se haga va a aplicar a todos los documentos

En su documentación, Nextjs nos da una [plantilla
base](https://nextjs.org/docs/advanced-features/custom-document) para
poder personalizar lo que necesitamos.

Este archivo es ideal para colocar elemento adicionales en la etiqueta
Head, tales como favicons, webfonts o estilos personalizados

``` javascript
import Document, { Html, Head, Main, NextScript } from 'next/document'

class MyDocument extends Document {
  static async getInitialProps(ctx) {
    const initialProps = await Document.getInitialProps(ctx)
    return { ...initialProps }
  }

  render() {
    return (
      <Html>
        <Head>
        {/*favicons*/}
        {/*webfonts*/}
        {/*stylesheets*/}
        {/*scripts*/}
        <Head />
        <body>
          <Main />
          <NextScript />
        </body>
      </Html>
    )
  }
}

export default MyDocument
```

### 1.13.2 Extendiendo App

Igual que en el ejemplo de document, Nextjs proporciona una
[plantilla](https://nextjs.org/docs/advanced-features/custom-app) que
podemos usar para personalizar la App

Para hacer uso de esta personalización debemos colocar un archivo
\_app.tsx o \_app.js, si trabajamos con typescript o javascript,
respectivamente.

Esta personalización es para crear temas personalizados, providers,
hacer un layout común o pasar props adicionales a todas las páginas.

Aquí es uno de los mejores lugares para colocar un React.contextProvider

``` javascript
//import App from 'next/app'

function MyApp({ Component, pageProps }) {
  return <Component {...pageProps} />
}

// Only uncomment this method if you have blocking data requirements for
// every single page in your application. This disables the ability to
// perform automatic static optimization, causing every page in your app to
// be server-side rendered.
//
// MyApp.getInitialProps = async (appContext) => {
//   // calls page's `getInitialProps` and fills `appProps.pageProps`
//   const appProps = await App.getInitialProps(appContext);
//
//   return { ...appProps }
// }

export default MyApp
```

Por ejemplo, si quisieramos que todos las páginas conteniera un Navbar y
un footer podemos envolver el componente que devuelve app dentro de otro
componente.

``` javascript
import {AppProps} from 'next/app'
import Layout from '../components/Layout/layout'

function MyApp({Component, pageProps}: AppProps) {
  return (<Layout>
    <Component {...pageProps}/>
  </Layout>)
}

// Only uncomment this method if you have blocking data requirements for
// every single page in your application. This disables the ability to
// perform automatic static optimization, causing every page in your app to
// be server-side rendered.
//
// MyApp.getInitialProps = async (appContext) => {
//    calls page's `getInitialProps` and fills `appProps.pageProps`
//   const appProps = await App.getInitialProps(appContext);
//
//   return { ...appProps }
// }

export default MyApp
```

El componente Layout recibiría un Children que colocaría debajo del
Navbar y arriba del footer.

``` javascript
import React from 'react'
import Navbar from '../Navbar/Navbar'


const Layout: React.FC= ({children}) => {
  return (
    <div>
          <Navbar/>
          {children}
          <footer>This is the footer</footer>
    </div>
  )
}

export default Layout
```

