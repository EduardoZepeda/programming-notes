## 1.1 Creación de un handler para manejo de URL

Es más sencillo modificar el comportamiento de nuestras vistas si envolvemos a
la función handler dentro de otra, de manera que retorne una función
*http.Handler* y reciba un argumento de tipo *server.Server*, también puede
llamarse App, o como quieras, esto con la finalidad de tener un objeto de
aplicación que englobe todas las variables de configuración, base de datos y
demás parámetros útiles para configurar las librerías que manejemos.

``` go
func HomeHandler(s server.Server) http.HandlerFunc {
    // ...
}
```

La función http.Handler que retorna debe recibir un objeto
*http.ResponseWriter*, y como segundo argumento un *http.Request* pasado por
referencia, desde su interior podemos modificar los Headers o escribir en el
body la respuesta. Para escribir headers de estado personalizados usamos
*WriteHeader* y como argumento el estado *http.\<CodigoDeEstado\>*.

Podemos escribir headers personalizados con la función *w.Header*

``` go
func HomeHandler(s server.Server) http.HandlerFunc {
    return func(w http.ResponseWriter, r *http.Request) {
        w.Header().Set("Content-Type", "application/json")
        w.WriteHeader(http.StatusOK)
        json.NewEncoder(w).Encode(HomeResponse{
            Message: "Welcome to homepage",
            Status:  true,
        })
    }
}
```

### 1.1.1 Método Encode

El método Encode recibe un struct que se transformará en un objeto JSON para
retornar en la respuesta.

``` go
json.NewEncoder(w).Encode(HomeResponse{
    Message: "Welcome to homepage",
    Status:  true,
})
```

Agregamos contenido con el objeto json, pasándole el objeto
*http.ResponseWriter*.

