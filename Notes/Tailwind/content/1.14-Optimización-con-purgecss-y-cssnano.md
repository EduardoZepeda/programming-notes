## 1.14 Optimización con purgecss y cssnano

El archivo que se crea con PostCSS tiene todas las directivas, aunque no
se usen y, además, no está minimizado. Por esta razón su tamaño puede
ser cercano a los 2 mb, este tamaño es demasiado grande para usarse en
producción. Para solucionar el problema de las directivas sin usar
podemos procesar nuestro archivo con purgecss y para minimizarlo está
cssnano. Los instalaremos usando node de la siguiente manera

``` bash
npm install -D @fullhuman/postcss-purgecss
npm install cssnano
```

Una vez instaladas hay que agregarlas al archivo de configuración de
postcss, *postcss.config.js*, para usarlas

``` javascript
const purgecss = require("@fullhuman/postcss-purgecss");

module.exports = {
  plugins: [
    require("tailwindcss"),
    require("autoprefixer"),
    purgecss({
      content: ["./**/*.html"],
      defaultExtractor: content => content.match(/[\w-/:]+(?<!:)/g) || [],
    }),
    require("cssnano")({
      preset: "default",
    }),
  ],
};
```

Una vez corramos el build del archivo css obtendremos un archivo de un
tamaño mucho menor, cerca de 20 veces menor, el cual es apto para su uso
en producción.
