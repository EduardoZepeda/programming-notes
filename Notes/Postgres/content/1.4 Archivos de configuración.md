## 1.4 Archivos de configuración

Existen tres archivos de configuración. La mala configuración de archivos nos
causará la mayor cantidad de problemas.

-   postgresql.conf
-   pg_hba.conf
-   pg_ident.conf

En el archivo postgresql.conf la configuración predeterminada está comentada.
Cualquier cambio requiere un reinicio de la base de datos.

Para que nos muestre el archivo de configuración podemos usar la consulta

``` sql
SHOW config_file;
```

### 1.4.1 El archivo pg_hba.conf

Es un archivo de permisos que indica quien se puede conectar a la base de datos.
Consta de 5 columnas que nos dicen el tipo de acceso, la base de datos, el
usuario, la dirección y el método de autenticación.

#### 1.4.1.1 Conexiones remotas

``` bash
# TYPE    DATABASE    USER    ADDRESS       METHOD
  host       all      all  <direccion ip>      md5
```

La dirección 0.0.0.0/0 aplica para todas las direcciones IP

Si establecimos el tipo host para conexiones remotas, deberemos recordar agregar las direcciones permitidas en el archivo *postgresql.conf*

``` bash
listen_addresses = '*'
```

#### 1.4.1.2 Conexiones locales

También recuerda establecer las direcciones y usuarios locales

``` bash
# TYPE    DATABASE    USER    ADDRESS       METHOD
  local       all      all   127.0.0.1/32     md5
```

### 1.4.2 El archivo pg_ident.conf

Permite mapear usuarios de postgres con usuarios de la base de datos. consta de
tres columnas

``` bash
#   MAPNAME        SYSTEM-USERNAME         PG-USERNAME
  mapeo-admin         usuario_SO         usuario_postgres
```

